# Bybit API v5 - –¢–æ—Ä–≥–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã execution/list

## –ü—Ä–æ–±–ª–µ–º–∞ —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥—Ö–æ–¥–∞
–°–µ–π—á–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ–º `/v5/execution/list` –∫–æ—Ç–æ—Ä—ã–π –¥–∞–µ—Ç –Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ executions, –∏ –ø—ã—Ç–∞–µ–º—Å—è —Å–∞–º–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –ø–æ–∑–∏—Ü–∏–π. –≠—Ç–æ —Å–ª–æ–∂–Ω–æ –∏ –æ—à–∏–±–∫–æ–ø—Ä–æ–Ω–æ.

## –ì–æ—Ç–æ–≤—ã–µ API endpoints –¥–ª—è —Ç–æ—Ä–≥–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### 1. üéØ `/v5/position/closed-pnl` - –ö–õ–Æ–ß–ï–í–û–ô ENDPOINT
**–û–ø–∏—Å–∞–Ω–∏–µ**: "Query user's closed profit and loss records"  
**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –î–∞–µ—Ç –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–∫–∞—Ö —Å –ø—Ä–∏–±—ã–ª—å—é/—É–±—ã—Ç–∫–æ–º

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `category` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π): linear, inverse, option
- `symbol` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): BTCUSDT, ETHUSDT, etc
- `startTime` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): timestamp –Ω–∞—á–∞–ª–∞ –ø–µ—Ä–∏–æ–¥–∞
- `endTime` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): timestamp –∫–æ–Ω—Ü–∞ –ø–µ—Ä–∏–æ–¥–∞  
- `limit` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): 1-100, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50
- `cursor` (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ): –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

**–î–∞–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç–∞:**
- Symbol (—Å–∏–º–≤–æ–ª)
- Side (—Å—Ç–æ—Ä–æ–Ω–∞ —Å–¥–µ–ª–∫–∏)
- Order details (–¥–µ—Ç–∞–ª–∏ –æ—Ä–¥–µ—Ä–∞)
- Closed position metrics (–º–µ—Ç—Ä–∏–∫–∏ –∑–∞–∫—Ä—ã—Ç–æ–π –ø–æ–∑–∏—Ü–∏–∏)
- Fees (–∫–æ–º–∏—Å—Å–∏–∏)
- **Profit/Loss calculation** (–≥–æ—Ç–æ–≤—ã–π —Ä–∞—Å—á–µ—Ç –ø—Ä–∏–±—ã–ª–∏/—É–±—ã—Ç–∫–∞!)
- Timestamps (–≤—Ä–µ–º—è)

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**
- 730 –¥–Ω–µ–π –∏—Å—Ç–æ—Ä–∏–∏ –¥–ª—è UTA –∞–∫–∫–∞—É–Ω—Ç–æ–≤
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø–æ `updatedTime` –∏–ª–∏ `createdTime`

### 2. üìä `/v5/position/list` - –¢–µ–∫—É—â–∏–µ –ø–æ–∑–∏—Ü–∏–∏
**–û–ø–∏—Å–∞–Ω–∏–µ**: "Query real-time position data, such as position size, cumulative realized PNL, etc."

**–î–∞–µ—Ç:**
- –†–∞–∑–º–µ—Ä —Ç–µ–∫—É—â–∏—Ö –ø–æ–∑–∏—Ü–∏–π
- –ù–∞–∫–æ–ø–ª–µ–Ω–Ω—ã–π —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π PnL
- Real-time –¥–∞–Ω–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–π

### 3. üèõÔ∏è `/v5/position/close-position` - –ó–∞–∫—Ä—ã—Ç—ã–µ –æ–ø—Ü–∏–æ–Ω—ã
**–û–ø–∏—Å–∞–Ω–∏–µ**: "Get Closed Options Positions (6 months)"
- –°–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –æ–ø—Ü–∏–æ–Ω–æ–≤
- 6 –º–µ—Å—è—Ü–µ–≤ –∏—Å—Ç–æ—Ä–∏–∏

## –î—Ä—É–≥–∏–µ –ø–æ–ª–µ–∑–Ω—ã–µ endpoints

### Order Management - `/v5/order/`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ä–¥–µ—Ä–∞–º–∏
- –ò—Å—Ç–æ—Ä–∏—è –æ—Ä–¥–µ—Ä–æ–≤
- –°—Ç–∞—Ç—É—Å –æ—Ä–¥–µ—Ä–æ–≤

### Account Management - `/v5/account/`
- –î–∞–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç–∞
- –ë–∞–ª–∞–Ω—Å—ã
- –û—Ç—á–µ—Ç—ã –ø–æ —Ç–æ—Ä–≥–æ–≤–ª–µ

### Asset Management - `/v5/asset/`
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–∫—Ç–∏–≤–∞–º–∏
- –ü–µ—Ä–µ–≤–æ–¥—ã
- –ò—Å—Ç–æ—Ä–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥

### –í–º–µ—Å—Ç–æ —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å executions:

1. **–î–ª—è –∑–∞–∫—Ä—ã—Ç—ã—Ö —Å–¥–µ–ª–æ–∫**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/v5/position/closed-pnl`
   - –ü–æ–ª—É—á–∞–µ–º –≥–æ—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ —Å PnL
   - –ù–µ –Ω—É–∂–Ω–æ —Å–∞–º–∏–º –≤—ã—á–∏—Å–ª—è—Ç—å –ø—Ä–∏–±—ã–ª—å/—É–±—ã—Ç–æ–∫
   - –ù–µ –Ω—É–∂–Ω–æ –∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞—Ç—å executions

2. **–î–ª—è –æ—Ç–∫—Ä—ã—Ç—ã—Ö –ø–æ–∑–∏—Ü–∏–π**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `/v5/position/list`
   - –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–µ –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–∑–∏—Ü–∏–∏
   - Real-time —Ä–∞–∑–º–µ—Ä—ã –∏ —Å—Ç–∞—Ç—É—Å

3. **–ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è**:
   - –î–ª—è closed-pnl: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å startTime/endTime
   - –î–ª—è positions: –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è—Ç—å —Å–ø–∏—Å–æ–∫

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞:
‚úÖ **–ü—Ä–æ—Å—Ç–æ—Ç–∞**: –ù–µ –Ω—É–∂–Ω–æ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –ª–æ–≥–∏–∫—É –±–∏—Ä–∂–∏  
‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å**: Bybit —Å–∞–º —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç PnL –ø—Ä–∞–≤–∏–ª—å–Ω–æ  
‚úÖ **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ù–µ—Ç –æ—à–∏–±–æ–∫ –≤ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ executions  
‚úÖ **–°–∫–æ—Ä–æ—Å—Ç—å**: –ú–µ–Ω—å—à–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ –Ω–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω–µ  

### –ß—Ç–æ —É–±–∏—Ä–∞–µ–º:
‚ùå –°–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É `handlePositionOpen/Close`  
‚ùå –ü–æ–ø—ã—Ç–∫–∏ —É–≥–∞–¥–∞—Ç—å —á—Ç–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç/–∑–∞–∫—Ä—ã–≤–∞–µ—Ç –ø–æ `closed_size`  
‚ùå FIFO –ª–æ–≥–∏–∫—É –ø–æ–∏—Å–∫–∞ –ø–æ–∑–∏—Ü–∏–π –¥–ª—è –∑–∞–∫—Ä—ã—Ç–∏—è  
‚ùå –°–∞–º–æ–¥–µ–ª—å–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è PnL  

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–æ–≤—ã—Ö –º–æ–¥–µ–ª–µ–π

### ClosedTrade (–∏–∑ closed-pnl)
```php
- symbol
- side  
- size
- entry_price
- exit_price
- entry_time
- exit_time
- realized_pnl    // –≥–æ—Ç–æ–≤–æ–µ –æ—Ç API!
- fees
- raw_data        // –ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç API
```

### OpenPosition (–∏–∑ position/list)  
```php
- symbol
- side
- size  
- entry_price
- unrealized_pnl  // –≥–æ—Ç–æ–≤–æ–µ –æ—Ç API!
- margin_used
- last_updated
```

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏
1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å `/v5/position/closed-pnl` endpoint
2. –ò–∑—É—á–∏—Ç—å —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–∞ –¥–µ—Ç–∞–ª—å–Ω–æ
3. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ª–æ–≥–∏–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –±–µ–∑ executions
4. –£–ø—Ä–æ—Å—Ç–∏—Ç—å –º–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö